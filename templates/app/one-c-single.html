{% extends 'base.html' %}

{% load staticfiles product_template_helper %}

{% block title %}{{ one_c_object.title }}{% endblock %}

{% block extra_css %}
	<style>
		.price-box {
			margin-top: 40px;
		}

		.price-box ul {
			margin: 0;
			padding: 0;
		}

		.price-box ul li {
			display: block;
			padding: 5px 10px;
			-webkit-border-radius: 4px;
			-moz-border-radius: 4px;
			border-radius: 4px;
			border: 1px solid #f7c605;
			cursor: pointer;
			color: #111;
			background: transparent;
			margin-bottom: 10px;

			-webkit-transition: background-color 0.5s, color 0.5s;
			-moz-transition: background-color 0.5s, color 0.5s;
			-ms-transition: background-color 0.5s, color 0.5s;
			-o-transition: background-color 0.5s, color 0.5s;
			transition: background-color 0.5s, color 0.5s;
		}

		.price-box ul li:hover,
		.price-box ul li.active{
			background: #f7c605;
		}
	</style>
{% endblock %}

{% block content %}
	<!-- Page Title START -->
	<div class="page-title-section" style="background-image: url({% if one_c_object.cover_image %}{{ one_c_object.cover_image.url }}{% else %}http://via.placeholder.com/1730x300{% endif %});">
		<div class="container">
			<h1>{{ one_c_object.title }}</h1>
			<ul>
				<li><a href="{% url 'index' %}">Главная</a></li>
				<li><a href="{% url 'production:one_c_list' %}">1С</a></li>
				<li><a href="{% url 'production:one_c_single' id=one_c_object.id %}">{{ one_c_object.title }}</a></li>
			</ul>
		</div>
	</div>
	<!-- Page Title END -->


	<!-- Shop Single START -->
	<div class="section-block">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-sm-6 col-12">
					<!-- Product Images & Alternates -->
					<div class="product-images">
						<!-- Begin Product Images Slider -->
						<div class="main-img-slider">
							<figure>
								<a href="{{ one_c_object.thumbnail.url }}" data-size="1400x1400">
									<img src="{{ one_c_object.thumbnail.url }}" alt="{{ one_c_object.title }}" />
								</a>
							</figure>
						</div>
						<!-- End Product Images Slider -->
					</div>
				</div>
				<div class="col-md-6 col-sm-6 col-12">
					<div class="single-product">
						<h2>{{ one_c_object.title }}</h2>

						<!-- Price Start -->
						<div class="single-product-price">
							<h4 id="price-tag">{{ one_c_object.price_box|parse_json|get_first_item:'value' }}</h4>
						</div>
						<!-- Price End -->

						<div class="price-box">
							<ul id="price-box">
								{% for item in one_c_object.price_box|parse_json %}
									<li{% if forloop.counter0 == 0 %} class="active"{% endif %} data-value="{{ item.value }}" data-id="{{ item.id }}">{{ item.key }}</li>
								{% endfor %}
							</ul>
						</div>

						{{ one_c_object.short_description|split_lines|safe }}

						<div class="product-share mt-20">
							<span>Share: </span>
							<a href="#"><i class="fa fa-facebook"></i></a>
							<a href="#"><i class="fa fa-twitter"></i></a>
							<a href="#"><i class="fa fa-google-plus"></i></a>
							<a href="#"><i class="fa fa-pinterest"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="container mt-50">
			<div class="section-heading ">
				<div class="section-heading-line"></div>
				{{ one_c_object.full_description|split_lines|safe }}
			</div>
		</div>
	</div>
	<!-- Shop Single END -->



{% endblock %}


{% block extra_js %}
	<script src="{% static 'js/price-box.js' %}"></script>
	<script>
		$(document).ready(() => {
			let priceBox = new PriceBox();
			priceBox.init();
		});
	</script>
{% endblock %}